# MIXAI v1.4 Production Environment Configuration
# 本番環境用設定ファイル

# ==== アプリケーション設定 ====
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0
NEXT_TELEMETRY_DISABLED=1

# ==== Supabase 設定 ====
# 本番用のSupabase URL（実際の値は管理者が設定）
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ==== データベース設定 ====
# Supabaseを使用する場合は不要ですが、外部Postgresqlを使用する場合
DATABASE_URL=postgresql://postgres:password@db:5432/mixai_production

# ==== Redis設定 ====
REDIS_URL=redis://redis:6379

# ==== Stripe決済設定 ====
PAYMENT_PROVIDER=stripe
PAYMENT_SECRET=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
PRICE_JPY=500

# ==== アプリケーション制限 ====
MAX_DURATION_SEC=120
MAX_FILE_MB=50
SIGNED_URL_TTL_SEC=600
RETENTION_DAYS=30

# ==== セキュリティ設定 ====
JWT_SECRET=your_jwt_secret_key_32_characters
NEXTAUTH_SECRET=your_nextauth_secret_key
NEXTAUTH_URL=https://mixai.app

# ==== 監視・ログ設定 ====
LOG_LEVEL=info
METRICS_ENABLED=true
PROMETHEUS_ENABLED=true

# ==== ファイルアップロード設定 ====
UPLOAD_MAX_SIZE=52428800
ALLOWED_MIME_TYPES=audio/mpeg,audio/wav,audio/m4a,audio/flac

# ==== レート制限設定 ====
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS_REQUESTS=true

# ==== クラウドストレージ設定（オプション） ====
# AWS S3の場合
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# AWS_REGION=ap-northeast-1
# S3_BUCKET_NAME=mixai-audio-storage

# ==== 外部API設定 ====
# 音声処理や分析で外部APIを使用する場合
# OPENAI_API_KEY=your_openai_api_key
# GOOGLE_CLOUD_API_KEY=your_google_api_key

# ==== SMTP設定（通知メール用） ====
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@mixai.app
SMTP_PASS=your_smtp_password
FROM_EMAIL=MIXAI <noreply@mixai.app>

# ==== ドメイン設定 ====
DOMAIN=mixai.app
ALLOWED_ORIGINS=https://mixai.app,https://www.mixai.app

# ==== バックアップ設定 ====
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=90